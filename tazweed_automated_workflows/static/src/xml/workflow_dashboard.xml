<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    
    <!-- Workflow Dashboard Template -->
    <t t-name="tazweed_automated_workflows.WorkflowDashboard">
        <div class="workflow-dashboard">
            <div class="workflow-dashboard-header">
                <h1 class="workflow-dashboard-title">Workflow Dashboard</h1>
                <div class="workflow-dashboard-actions">
                    <button class="btn-primary" t-on-click="refreshDashboard">
                        <i class="fa fa-refresh"/> Refresh
                    </button>
                </div>
            </div>
            
            <!-- Stats Cards -->
            <div class="workflow-stats">
                <div class="stat-card pending">
                    <div class="stat-card-icon">
                        <i class="fa fa-clock-o"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.pending"/>
                    <div class="stat-card-label">Pending</div>
                </div>
                <div class="stat-card active">
                    <div class="stat-card-icon">
                        <i class="fa fa-spinner"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.in_progress"/>
                    <div class="stat-card-label">In Progress</div>
                </div>
                <div class="stat-card completed">
                    <div class="stat-card-icon">
                        <i class="fa fa-check-circle"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.approved"/>
                    <div class="stat-card-label">Approved</div>
                </div>
                <div class="stat-card rejected">
                    <div class="stat-card-icon">
                        <i class="fa fa-times-circle"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.rejected"/>
                    <div class="stat-card-label">Rejected</div>
                </div>
            </div>
            
            <!-- SLA Stats -->
            <div class="workflow-stats">
                <div class="stat-card">
                    <div class="stat-card-icon" style="color: #27ae60;">
                        <i class="fa fa-check"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.sla_compliant"/>
                    <div class="stat-card-label">SLA Compliant</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon" style="color: #f39c12;">
                        <i class="fa fa-warning"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.sla_at_risk"/>
                    <div class="stat-card-label">At Risk</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon" style="color: #e74c3c;">
                        <i class="fa fa-exclamation-circle"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.sla_breached"/>
                    <div class="stat-card-label">SLA Breached</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon" style="color: #9b59b6;">
                        <i class="fa fa-arrow-up"/>
                    </div>
                    <div class="stat-card-value" t-esc="stats.escalated"/>
                    <div class="stat-card-label">Escalated</div>
                </div>
            </div>
            
            <!-- Recent Workflows -->
            <div class="workflow-list">
                <div class="workflow-list-header">
                    <span>Workflow</span>
                    <span>Employee</span>
                    <span>Status</span>
                    <span>SLA</span>
                    <span>Due Date</span>
                </div>
                <t t-foreach="recentWorkflows" t-as="workflow">
                    <div class="workflow-list-item" t-on-click="() => openWorkflow(workflow.id)">
                        <span class="workflow-list-item-name" t-esc="workflow.name"/>
                        <span t-esc="workflow.employee_name"/>
                        <span t-attf-class="workflow-list-item-status #{workflow.state}">
                            <t t-esc="workflow.state_display"/>
                        </span>
                        <span t-attf-class="o_sla_badge #{workflow.sla_status}">
                            <t t-esc="workflow.sla_status_display"/>
                        </span>
                        <span t-esc="workflow.due_date"/>
                    </div>
                </t>
            </div>
        </div>
    </t>
    
</templates>
