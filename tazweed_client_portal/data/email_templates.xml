<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Portal Invitation Email Template -->
    <record id="email_template_portal_invitation" model="mail.template">
        <field name="name">Client Portal: Invitation</field>
        <field name="model_id" ref="model_client_portal_user"/>
        <field name="subject">Welcome to {{ object.client_id.name }} Client Portal</field>
        <field name="email_from">{{ (object.client_id.company_id.email or user.email) }}</field>
        <field name="email_to">{{ object.email }}</field>
        <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; font-size: 14px;">
    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
        <tr>
            <td align="center">
                <table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: white; border: 1px solid #e1e1e1;">
                    <tr>
                        <td align="center" style="padding-bottom: 20px;">
                            <h2 style="color: #2196F3;">Welcome to the Client Portal</h2>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p>Dear <strong>{{ object.name }}</strong>,</p>
                            <p>You have been invited to access the <strong>{{ object.client_id.name }}</strong> Client Portal.</p>
                            <p>With this portal, you can:</p>
                            <ul>
                                <li>View and manage job orders</li>
                                <li>Review and approve candidates</li>
                                <li>Track active placements</li>
                                <li>Access invoices and documents</li>
                                <li>Communicate with our team</li>
                            </ul>
                            <p style="text-align: center; padding: 20px;">
                                <a href="{{ object.env['ir.config_parameter'].sudo().get_param('web.base.url') }}/web/signup?token={{ object.activation_token }}"
                                   style="background-color: #2196F3; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; font-weight: bold;">
                                    Activate Your Account
                                </a>
                            </p>
                            <p><small>This invitation link will expire in 7 days.</small></p>
                            <p>If you have any questions, please contact us.</p>
                            <p>Best regards,<br/>{{ object.client_id.company_id.name or 'Tazweed HR' }}</p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

    <!-- Portal Notification Email Template -->
    <record id="email_template_portal_notification" model="mail.template">
        <field name="name">Client Portal: Notification</field>
        <field name="model_id" ref="model_client_portal_notification"/>
        <field name="subject">{{ object.title }}</field>
        <field name="email_from">{{ (object.client_id.company_id.email or user.email) }}</field>
        <field name="email_to">{{ ctx.get('recipient').email if ctx.get('recipient') else '' }}</field>
        <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; font-size: 14px;">
    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
        <tr>
            <td align="center">
                <table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: white; border: 1px solid #e1e1e1;">
                    <tr>
                        <td align="center" style="padding-bottom: 20px;">
                            <h2 style="color: {{ object.color }};">{{ object.title }}</h2>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p>{{ object.message }}</p>
                            <p style="text-align: center; padding: 20px;">
                                <a href="{{ object.env['ir.config_parameter'].sudo().get_param('web.base.url') }}{{ object.action_url }}"
                                   style="background-color: #2196F3; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; font-weight: bold;">
                                    View Details
                                </a>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

    <!-- New Message Email Template -->
    <record id="email_template_new_message" model="mail.template">
        <field name="name">Client Portal: New Message</field>
        <field name="model_id" ref="model_client_portal_message"/>
        <field name="subject">New Message: {{ object.subject }}</field>
        <field name="email_from">{{ (object.client_id.company_id.email or user.email) }}</field>
        <field name="email_to">{{ object.portal_user_id.email if object.portal_user_id else '' }}</field>
        <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; font-size: 14px;">
    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
        <tr>
            <td align="center">
                <table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: white; border: 1px solid #e1e1e1;">
                    <tr>
                        <td align="center" style="padding-bottom: 20px;">
                            <h2 style="color: #9C27B0;">New Message</h2>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p><strong>Subject:</strong> {{ object.subject }}</p>
                            <div style="background-color: #f5f5f5; padding: 15px; border-radius: 4px; margin: 15px 0;">
                                {{ object.body | safe }}
                            </div>
                            <p style="text-align: center; padding: 20px;">
                                <a href="{{ object.env['ir.config_parameter'].sudo().get_param('web.base.url') }}/my/messages"
                                   style="background-color: #9C27B0; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; font-weight: bold;">
                                    View in Portal
                                </a>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

    <!-- Document Shared Email Template -->
    <record id="email_template_document_shared" model="mail.template">
        <field name="name">Client Portal: Document Shared</field>
        <field name="model_id" ref="model_client_portal_document"/>
        <field name="subject">New Document Shared: {{ object.name }}</field>
        <field name="email_from">{{ (object.client_id.company_id.email or user.email) }}</field>
        <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; font-size: 14px;">
    <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; width: 100%;">
        <tr>
            <td align="center">
                <table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: white; border: 1px solid #e1e1e1;">
                    <tr>
                        <td align="center" style="padding-bottom: 20px;">
                            <h2 style="color: #607D8B;">Document Shared</h2>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p>A new document has been shared with you:</p>
                            <div style="background-color: #f5f5f5; padding: 15px; border-radius: 4px; margin: 15px 0;">
                                <p><strong>Document:</strong> {{ object.name }}</p>
                                <p><strong>Category:</strong> {{ object.category }}</p>
                                <p><strong>Description:</strong> {{ object.description or 'N/A' }}</p>
                            </div>
                            <p style="text-align: center; padding: 20px;">
                                <a href="{{ object.env['ir.config_parameter'].sudo().get_param('web.base.url') }}/my/documents"
                                   style="background-color: #607D8B; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; font-weight: bold;">
                                    View Document
                                </a>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>
</odoo>
